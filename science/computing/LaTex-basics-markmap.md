# LaTeX Basics

- Skeleton
  - 
    ```latex
    \documentclass[12pt]{report}
    \usepackage[utf8]{inputenc}

    \begin{document}

    % --- Pretext (roman numerals) ---
    \pagenumbering{roman}
    \chapter*{Acknowledgements}
    \chapter*{Abstract}
    \tableofcontents

    % --- Main text (arabic numerals) ---
    \clearpage
    \pagenumbering{arabic}
      
    \chapter{Introduction}
    \chapter{Methods}
    \chapter{Results}
    \chapter{Discussion}

    % --- Bibliography (Roman numerals) ---
    \clearpage
    \pagenumbering{Roman}

    \chapter*{Bibliography}
    % \bibliographystyle{plain}
    % \bibliography{refs}

    % --- Annex (letters) ---
    \clearpage
    \pagenumbering{Alph}

    \chapter*{Annex A}
    \chapter*{Annex B}

    \end{document}
    ```


- Preamble
  - Example preamble:
    ```latex
    \documentclass[12pt,a4paper]{article}

    % Encoding and language
    \usepackage[utf8]{inputenc} % for UTF-8 encoding. Default is ASCII which does not support accents or non-latin characters 
    \usepackage{graphicx} % better graphic support
    \usepackage{placeins} % for \FloatBarrier
    ```

- Title
  - Block
    - ```latex
      \title{Travaux pratiques génie électricité GIM 1 R1.04}
      \author{Rong ZHOU \and Paul-Etienne MAZURIER}
      \newcommand{\univaddress}{IUT Hubert Curien, Université de Lorraine, 7 Rue Fusillés Résistance, 88000 Épinal}
      \date{\today}
      \newcommand{\contact}{ron@ronzz.org}

      \begin{document}
      \maketitle
      \begin{center}
      \univaddress\\
      \contact
      \end{center}
      ```
  - Fullpage
    - ```latex
      \documentclass[12pt]{report}
      \newcommand{\univaddress}{IUT Hubert Curien, Université de Lorraine, 7 Rue Fusillés Résistance, 88000 Épinal}
      \newcommand{\contact}{ron@ronzz.org}
      \begin{document}
      \begin{titlepage}
      \centering
      {\Huge \bfseries Maintenance Report \par}
      \vspace{1cm}
      {\Large Industrial Systems Analysis \par}
      \vspace{2cm}
      {\large Rong Zhou \par}
      \vfill
      \begin{center}
      \univaddress\\
      \contact
      \end{center}
      {\large \today \par}
      \end{titlepage}
      ```

- Table of contents
  - 
    ```latex
    \setcounter{tocdepth}{2} % optional, control table depth (which sectioning levels appear) 0=chapter,1=section,2=subsection, etc.
    \tableofcontents
    \clearpage
    ```

  - If you add unnumbered sections but still want them in the ToC, use:
    ```latex
    \section*{Acknowledgements} % add unnumbered section : the * suppresses numbering and consequently TOC entry
    \addcontentsline{toc}{section}{Acknowledgements} % manually adds an entry into the TOC at the section level with the given title
    ```

- List of Figures
  - `\listoffigures`

- Figures
  ```latex
  \usepackage{graphicx}
  ```   

  -  
    ```latex
    \begin{figure}[h!]
      \centering
      \includegraphics[width=0.75\linewidth]{image1.png}
      \caption{a generic parallelepipedic unit cell}
      \label{fig:unit-cell}
    \end{figure}
    \FloatBarrier
    ```

- Lists (`enumerate` and `itemize`)
  - Nested lists example and usage:
    ```latex
    \begin{enumerate}
    \item
      \begin{itemize}
        \item A unit cell is a repeating group of atoms.
        \item For a parallelepipedic cell: 6 parameters
        \begin{itemize}
          \item edge lengths $a,b,c$;
          \item angles $\alpha,\beta,\gamma$.
        \end{itemize}
      \end{itemize}
    \item
      \begin{itemize}
        \item A Bravais lattice:
        \begin{itemize}
          \item nodes generated by translations from a single node;
          \item all crystalline materials follow one of these lattices (except quasicrystals).
        \end{itemize}
      \end{itemize}
    \end{enumerate}
    ```
  - Note: figures can be embedded inside list items as needed.

- Graphing
  ```latex
  \usepackage{tikz}
  \usetikzlibrary{arrows.meta,calc,positioning,decorations.pathreplacing}      
  \begin{tikzpicture} % simple grid and repeated circles
    \draw[step=1cm,gray!40] (0,0) grid (5,3);
    \foreach \x in {0,1,...,5} {
      \foreach \y in {0,1,2,3} {
        \fill[blue!30] (\x,\y) circle[radius=2pt];
      }
    }
  \end{tikzpicture}
  ```
  - nodes on a circle
    ```latex
    \begin{tikzpicture}[every node/.style={draw,circle,inner sep=2pt}]
      \foreach \i in {1,...,8} {
        \node at (\i*45:2cm) (N\i) {\i};
      }
      \draw[->] (N1) to[bend left] (N3);
    \end{tikzpicture}
    ```

  - advanced: computed values with `evaluate` and multiple lists
    ```latex
    \begin{tikzpicture}
      \foreach \angle/\col in {0/red,45/green,90/blue,135/orange} {
        \draw[fill=\col!50] (\angle:1cm) circle[radius=4mm];
      }
      % using evaluate to compute a radius per loop
      \foreach \i [evaluate=\i as \r using 0.2*\i] in {1,2,3,4} {
        \draw[gray] (0,0) circle[radius=\r];
      }
    \end{tikzpicture}
    ```

  - Tips:
    - use `\tikzset{my style/.style={...}}` to define reusable styles.
    - prefer libraries (`positioning`, `calc`) to simplify coordinates.
    - `\foreach` supports lists (e.g. `{a,b,c}`), ranges (`{1,...,n}`) and `evaluate` expressions.

- Math
  ```latex
  \usepackage{geometry}
  \geometry{margin=2.5cm}
  \usepackage{amsmath,amssymb}
  \usepackage{siunitx}
  \sisetup{per-mode=symbol,exponent-product=\cdot,output-decimal-marker=.}
  ```

  - Equation block : `align*`
    ```latex
    \begin{align*}
    M_{\text{atom}} &= \frac{M_m}{N_A} \\
    M_{\text{unit}} &= N \, M_{\text{atom}} \\
    V_{\text{unit}} &= 0.05940 \,\text{nm}^3 = 0.05940 \times 10^{-27}\,\text{m}^3 \\
    r &= 0.1332 \,\text{nm} = 1.332 \times 10^{-10}\,\text{m} \\
    \rho &= \frac{M_{\text{unit}}}{V_{\text{unit}}}
    \end{align*}
    ```

  - Cases
    ```latex
    \[
    f(x) = 
    \begin{cases}
      x^2, & \text{if } x \ge 0 \\
      -x,  & \text{if } x < 0
    \end{cases}
    \]
    ```
    
  - symbols
    - proportional to : `\propto`
    - because : `\because`
    - so : `\therefore`
    - != : `\neq`
    - perpendicularity : `\bot`
    - <a href="https://latexeditor.lagrida.com/" target="_blank">others</a>
  

- French support
  ```latex
  \usepackage[T1]{fontenc}
  \usepackage[french]{babel}
  ```
    

- Tables
  ```latex
  \usepackage{booktabs}
  ```
  
  -
    ```latex
    % in document
    \begin{table}[h!]
      \centering
      \begin{tabular}{lcr}
          oprule
        Item & Quantity & Price (\$) \\
        \midrule
        Widget A & 10 & 2.50 \\
        Widget B & 5  & 5.00 \\
        \bottomrule
      \end{tabular}
      \caption{A simple table example}
      \label{tab:sample}
    \end{table}
    \FloatBarrier
    ```

- Cross-references
  ```latex
  \usepackage{hyperref}
  ```
  - 
    ```latex
    % in document
    \section{Methods}\label{methods} % add label "methods"

    As explained in Section~\ref{methods}, (page~\pageref{sec:methods})... % refer back to the label "methods". 

    See Table~\ref{sample-table} for example data.
    ```
  - `\label{key}` → attaches a label to the current element (section, figure, table, equation).  
  - `\ref{key}` → prints the number of that element.  
  - `\pageref{key}` → prints the page number where the label appears.  

- Bibliography (biblatex)
  ```latex
  % use biber
  \usepackage[backend=biber,style=authoryear]{biblatex}
  % Link your Zotero export file
  \addbibresource{references.bib}
  ```

  - `refs.bib` : generate in citation manager
    - Zotero : Better BibTeX (BBT) plugin
      - ensure consistent keys
    - Example `refs.bib` entry:
      ```bibtex
      @article{einstein1905,
        author = {Einstein, Albert},
        title = {On the Electrodynamics of Moving Bodies},
        journal = {Annalen der Physik},
        year = {1905},
        volume = {17},
        pages = {891--921}
      }
      ```

  -
    ```latex
    \begin{document}

    Here is a citation \cite{Einstein1905} in the text.

    \chapter{Introduction}
    More text with another citation \parencite{Curie1898}.
    
    % specifies where the bibliography need to be generated
    \printbibliography

    \end{document}
    ```
  - alternative styles
    - IEEE : `\usepackage[backend=biber,style=numeric]{biblatex}`
    - APA : `\usepackage[backend=biber,style=apa]{biblatex}`

- Quick and dirty
  - `\clearpage` : start new page
  - `\FloatBarrier` (from `placeins`) : to control float placement.
  - `siunitx` : Consistent units and decimal markers
  - Keep preamble packages **minimal** and add only what you need.